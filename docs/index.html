<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>DevOps Starter — API Demo</title>
    <style>
      body { font-family: system-ui, sans-serif; margin: 2rem; max-width: 720px }
      button { padding: .6rem 1rem; font-size: 1rem; cursor: pointer }
      pre { background:#111; color:#eee; padding:1rem; border-radius:.5rem; overflow:auto }
      input { width:100%; padding:.6rem; margin:.5rem 0 1rem; }
      .muted { color:#666; font-size:.9rem }
    </style>
  </head>
  <body>
    <h1>DevOps Starter — API Demo</h1>
    <p class="muted">
      Set your deployed API base URL below (e.g. Render/Railway/Fly/K8s ingress), then try the buttons.
    </p>
    <input id="api" placeholder="https://YOUR-API-BASE" />
    <button id="health">GET /healthz</button>
    <button id="post">POST /items</button>
    <pre id="out">Output appears here…</pre>
    <script>
      const out = document.getElementById("out");
      const $ = (id) => document.getElementById(id);
      $("health").onclick = async () => {
        out.textContent = "Loading /healthz…";
        const r = await fetch($("api").value.replace(/\/$/,'') + "/healthz");
        out.textContent = (await r.text());
      };
      $("post").onclick = async () => {
        out.textContent = "Posting /items…";
        const r = await fetch($("api").value.replace(/\/$/,'') + "/items", {
          method: "POST",
          headers: { "Content-Type":"application/json" },
          body: JSON.stringify({ id: 1, name: "alpha" })
        });
        out.textContent = (await r.text());
      };
    </script>
  </body>
</html>
